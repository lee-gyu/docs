# item.2 자바스크립트의 숫자 처리 표준 이해하기 (IEEE 754)

자바스크립트에서 원시 형으로 불편 타입인 `number`은 64비트 부동소수점 형식을 따른다. (IEEE 754 표준)\
이 표준은 모든 언어에서 사용되는 표준이다.\
이 표준은 53비트로 정수를 표현하고, 나머지 11비트로 소수점과 지수를 표현한다.\
즉, 53비트까지는 정수형으로는 안전하게 표현할 수 있다. (-9,007,199,254,740,992 ~ 9,007,199,254,740,992)

컴퓨터는 2진수로 숫자를 처리하므로, 0.1 + 0.2 = 0.3이 아니라 0.30000000000000004로 처리되는 점에 주의하여야 한다.\
이는 2진수로 소수점을 처리하는 법을 생각하면 쉽게 이해할 수 있다.

비트 단위의 연산자는 특별한 부분이 있다.\
부동 소수점이 아닌, 32비트 정수로 처리한다.

## Number.EPSILON

부동 소수점의 산술 연산 정확도의 한계를 인식하고, 이를 피하려면 정수로 처리하거나, `Number.EPSILON`을 사용하자.\
Number.EPSILON 값은, 1과 1보다 큰 값 중에서 오차 중 가장 작은 값이다.\
즉, 아래와 같은 수식이 있다.

```js
const value = Math.abs(0.2 - 0.3 + 0.1);
```

value는 0이 될 것으로 예측이 되지만, 컴퓨터 연산의 문제로, 2.7755575615628914e-17이 된다.\
이는 Number.EPSILON의 값이며, 이를 사용하여 오차를 피할 수 있다.

```js
const value = Math.abs(0.2 - 0.3 + 0.1) < Number.EPSILON;
```

## 정리

- 자바스크립트의 숫자는 64비트 부동소수점 형식을 따른다. (IEEE 754 표준)
- 53비트로 정수를 표현하고, 나머지 11비트로 소수점과 지수를 표현한다.
- 비트 연산은 32비트 부호가 있는 정수형으로 처리한다.
- 부동 소수점의 산술 연산 정확도의 한계를 인식하고, 이를 피하려면 정수로 처리하거나, `Number.EPSILON`을 사용하자.
